<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Pitcher Plant Inquiline Communities</title>
    <meta charset="utf-8" />
    <meta name="author" content="Kristen Howard" />
    <script src="libs/header-attrs-2.20/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Pitcher Plant Inquiline Communities
]
.subtitle[
## Exploring the diversity of Saracenia purpurea
]
.author[
### Kristen Howard
]
.institute[
### terHorst Lab
]
.date[
### (updated: 2023-05-08)
]

---


class: inverse
![](https://www.syfy.com/sites/syfy/files/2020/06/audrey2.jpg)

--
class: inverse, center, middle
**There are over 700 species of carnivorous plants around the world!**

**.red[The feeding mechanism is very rare!]**

---
 # Outline of Presentation
 
 
--
1. Brief Introduction into Carnivious Plants and their Feeding Mechanisms


--
2. Model System - Sarracenia purpurea


--
3. Data/Exploration


---
class: inverse, center, middle

# Model System - Pitcher Plant Fun

---

# Model System

I am interested in the inquiline community of Sarracenia Purpurea

.center[
&lt;img src= "https://www.fs.usda.gov/wildflowers/plant-of-the-week/images/purplepitcherplant/SAPU4.gif",, width="50%"/&gt;]

.footnote[[source](https://www.fs.usda.gov/wildflowers/plant-of-the-week/sarracenia_purpurae.shtml)]

---
# Feeding Mechanism

.center[&lt;img src= "https://www.gardenia.net/storage/app/public/uploads/images/detail/75e09eb820b5dba9b3a7117a6ea98346.webp", width=80%/&gt;]

.footnote[[(terHorst 2010)](https://onlinelibrary.wiley.com/doi/10.1111/j.1420-9101.2010.02140.x)]
---

# Questions
--


- What is the abundance of the organisms seen in purple pitcher plants?


--
- Which Organisms have the highest abundances?

--
- Does the number of organisms seen depend on the age of the leaf?

---
# Data Collection

We found 100 leaf bodies and measured the following information:


![Screenshot](libs\Images\datasheet_screenshot.PNG)

---
# Data Collection

![Screenshot](libs\Images\datasheet_screenshot.PNG)


---
#Load Packages

```r
library(tidyverse)
library(here)
library(ggplot2)
library(crosstable)
library(dplyr)
library(vtable)
library(gganimate)
library(hrbrthemes)
library(viridis)
library(ggridges)
library(ggpubr)
library(rcartocolor)
library(DT)
```

---
class: center, middle

# Load Data

```r
library(here)
pitcher_plant_data &lt;- read.csv(here("Data/pitcher_plant_data.csv"))
view(pitcher_plant_data)
```
# Create Color Pallate

```r
my_pal &lt;- rcartocolor::carto_pal(n = 8, name = "Bold")[c(1, 3, 7, 2,4,5,6,8)]
```


---
# Marginal Plot

.pull-up[

```r
pitcher_plant_data %&gt;%
      ggscatterhist( x = "leaf_age_", 
                     y = "ants",
                     color = "Plant.ID.Alpha", 
                     size = 3, 
                     alpha = 0.6,
        palette = my_pal,
        margin.plot = "boxplot",
        ggtheme = theme_bw()
        )
```
]
.pull-down[

```
## Picking joint bandwidth of 33.4
```

![](Pitcher_Plant_Slides_files/figure-html/wave-label-out-1.png)&lt;!-- --&gt;
]
---

#Lets look at one particular plant ID and the number of organisms over the age the leaf

First, we must convert the columns of interest into numerics (they are currently characters)

```r
#Convert columns to numeric
pitcher_plant_data$Mites &lt;- as.numeric(pitcher_plant_data$Mites)
```

```
## Warning: NAs introduced by coercion
```

```r
### rotifers and after are characters, change to numeric
```

# Next, calculate the sum of organisms for Plant Numeric ID 1

```r
pitcher_plant_data$Total_organisms &lt;- 

rowSums(pitcher_plant_data[,c("ants","spiders","beetle","Mosquito","Midges","Snot","Mites")])
```
---
# Create graph
.pull-right[

```r
library(ggplot2)

ggplot(pitcher_plant_data, aes(x=leaf_age_,
                               y=Total_organisms)) + 
  geom_line() +
  labs(title = "Total Organisms Over Time in Plant A",
       x = "Age of Leaf", 
       y = "Total Organisms") 
```
]
.pull-left[
![](Pitcher_Plant_Slides_files/figure-html/plot3-out-1.png)&lt;!-- --&gt;
]

---
# Ridgeline Distrinution Plot
This is showing the number of mites of leaf age

.pull-right[

```r
g_ridges &lt;- 
  ggplot(pitcher_plant_data, aes(leaf_age_, fct_rev(Plant.ID.Alpha), color = Plant.ID.Alpha, fill = Plant.ID.Alpha)) + 
  coord_cartesian(clip = "off") +
  scale_y_discrete(expand = c(.07, .07)) +
  scale_color_manual(values = my_pal, guide = "none") +
  scale_fill_manual(values = my_pal, guide = "none") +
  labs(x = "Leaf Age (Days)",
       y = "Plant ID Alpha") + 
  ggtitle("Organism Distribution Over Time") +
  theme_minimal()

g_ridges +
  ggridges::geom_density_ridges(
    alpha = .7, size = 1.5
  )
```
]
.pull-left[
![](Pitcher_Plant_Slides_files/figure-html/plot-label-out-1.png)&lt;!-- --&gt;
]

---
# Summary Stats

```r
# Summary statistics
df.summary &lt;- pitcher_plant_data %&gt;%
  group_by(Plant.ID.Alpha) %&gt;%
  summarise(ants_sd = sd(ants, na.rm = TRUE), ants_mean = mean(ants))
df.summary
```

```
## # A tibble: 8 Ã— 3
##   Plant.ID.Alpha ants_sd ants_mean
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;
## 1 A                 8.98      3.22
## 2 B                26.2       6.35
## 3 C                17.0       4.83
## 4 D                20.1       5.21
## 5 E                13.1       3.94
## 6 F                15.4       3.74
## 7 G                 6.00      1.58
## 8 H                18.7       5.15
```

---

```r
df.summary %&gt;%
  ggplot(aes(x = Plant.ID.Alpha, 
              y = ants_mean)) +
   geom_bar(stat = "identity", 
            fill = my_pal, 
            color = "black") +
   geom_errorbar(aes(ymin = ants_mean, 
                     ymax = ants_sd), 
                     width = 0.2) +
      theme_minimal() +
      coord_flip() +
  labs( y= "Average Number of Ants",
        x = "Plant ID")
```

![](Pitcher_Plant_Slides_files/figure-html/bar_label-1.png)&lt;!-- --&gt;

---

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
