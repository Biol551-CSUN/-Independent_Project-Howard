<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Pitcher Plant Inquiline Communities</title>
    <meta charset="utf-8" />
    <meta name="author" content="Kristen Howard" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Pitcher Plant Inquiline Communities
]
.subtitle[
## Exploring the diversity of Saracenia purpurea
]
.author[
### Kristen Howard
]
.institute[
### RStudio, PBC
]
.date[
### 2016/12/12 (updated: 2023-05-08)
]

---




---
class: inverse
![](https://www.syfy.com/sites/syfy/files/2020/06/audrey2.jpg)

There are over 700 species of carnivorous plants around the world!

The feeding mechanism is very rare!
---
class: inverse, center, middle

# Model System - Pitcher Plant Fun

---

# Model System

I am interested in the inquiline community of Sarracenia Purpurea

![](https://www.fs.usda.gov/wildflowers/plant-of-the-week/images/purplepitcherplant/SAPU4.gif)

![](https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcQtPlfInivntq-h1tTAal_AqSd8H30TOtiNl5VEoDSNNd-dNPe_4db_zfCaKDHyFjK_jpLsQuiLjBJbGlk)

---
# Model System

![](https://www.gardenia.net/storage/app/public/uploads/images/detail/75e09eb820b5dba9b3a7117a6ea98346.webp)

---
# Questions

--What is the abundance of the organisms seen in purple pitcher plants?

--Which Organisms have the highest abundances?

--Does the number of organisms seen depend on the age of the leaf?


---
# Data Collection

We found 100 leaf bodies and measured the following information:

(column names or picture of excel sheet goes here)

---
#Load Packages

```r
library(tidyverse)
```

```
## Warning: package 'tidyverse' was built under R version 4.2.2
```

```
## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.4.1     ✔ purrr   1.0.1
## ✔ tibble  3.1.8     ✔ dplyr   1.1.0
## ✔ tidyr   1.3.0     ✔ stringr 1.5.0
## ✔ readr   2.1.3     ✔ forcats 1.0.0
```

```
## Warning: package 'ggplot2' was built under R version 4.2.2
```

```
## Warning: package 'tidyr' was built under R version 4.2.2
```

```
## Warning: package 'readr' was built under R version 4.2.2
```

```
## Warning: package 'purrr' was built under R version 4.2.2
```

```
## Warning: package 'dplyr' was built under R version 4.2.2
```

```
## Warning: package 'stringr' was built under R version 4.2.2
```

```
## Warning: package 'forcats' was built under R version 4.2.3
```

```
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
```

```r
library(here)
```

```
## Warning: package 'here' was built under R version 4.2.2
```

```
## here() starts at C:/Users/kdh19230/Desktop/Repository/Independent_Project_Howard
```

```r
library(ggplot2)
library(crosstable)
```

```
## Warning: package 'crosstable' was built under R version 4.2.3
```

```
## 
## Attaching package: 'crosstable'
## 
## The following object is masked from 'package:purrr':
## 
##     compact
```

```r
library(dplyr)
library(vtable)
```

```
## Warning: package 'vtable' was built under R version 4.2.3
```

```
## Loading required package: kableExtra
```

```
## Warning: package 'kableExtra' was built under R version 4.2.2
```

```
## 
## Attaching package: 'kableExtra'
## 
## The following object is masked from 'package:dplyr':
## 
##     group_rows
```

```r
library(gganimate)
```

```
## Warning: package 'gganimate' was built under R version 4.2.3
```

```r
library(hrbrthemes)
```

```
## Warning: package 'hrbrthemes' was built under R version 4.2.2
```

```
## NOTE: Either Arial Narrow or Roboto Condensed fonts are required to use these themes.
##       Please use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and
##       if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow
```

```r
library(viridis)
```

```
## Warning: package 'viridis' was built under R version 4.2.2
```

```
## Loading required package: viridisLite
```

```
## Warning: package 'viridisLite' was built under R version 4.2.2
```

```r
library(ggridges) # creates ridgeline plots
```

```
## Warning: package 'ggridges' was built under R version 4.2.3
```

```r
library(ggpubr)
```

```
## Warning: package 'ggpubr' was built under R version 4.2.3
```


---
# Load Data

```r
pitcher_plant_data &lt;- read.csv(here("Data/pitcher_plant_data.csv"))
View(pitcher_plant_data)
```

---

#Lets look at one particular plant ID and the number of organisms over the age the leaf

First, we must convert the columns of interest into numerics (they are currently characters)

```r
#Convert columns to numeric
pitcher_plant_data$Mites &lt;- as.numeric(pitcher_plant_data$Mites)
```

```
## Warning: NAs introduced by coercion
```

```r
### rotifers and after are characters, change to numeric
```

# Next, calculate the sum of organisms for Plant Numeric ID 1

```r
pitcher_plant_data$Total_organisms &lt;- rowSums(pitcher_plant_data[,c("ants","spiders","beetle","Mosquito","Midges","Snot","Mites")])
```
---
# Create graph

```r
ggplot(pitcher_plant_data, aes(x=leaf_age.days., y=Total_organisms)) + 
  geom_line() +
  labs(title = "Total Organisms Over Time in Plant A", x = "Age of Leaf", y = "Total Organisms")
```

![](Pitcher_Plant_Slides_files/figure-html/unnamed-chunk-5-1.png)&lt;!-- --&gt;

---
# Ridgeline Distrinution Plot
This is showing the number of mites of leaf age

```r
my_pal &lt;- rcartocolor::carto_pal(n = 8, name = "Bold")[c(1, 3, 7, 2,4,5,6,8)]

g_ridges &lt;- 
  ggplot(pitcher_plant_data, aes(leaf_age.days., fct_rev(Plant.ID.Alpha), color = Plant.ID.Alpha, fill = Plant.ID.Alpha)) + 
  coord_cartesian(clip = "off") +
  scale_y_discrete(expand = c(.07, .07)) +
  scale_color_manual(values = my_pal, guide = "none") +
  scale_fill_manual(values = my_pal, guide = "none") +
  labs(x = "Leaf Age (Days)",
       y = "Plant ID Alpha") + 
  ggtitle("Organism Distribution Over Time") +
  theme_minimal()

g_ridges +
  ggridges::geom_density_ridges(
    alpha = .7, size = 1.5
  )
```

```
## Picking joint bandwidth of 33.4
```

![](Pitcher_Plant_Slides_files/figure-html/unnamed-chunk-6-1.png)&lt;!-- --&gt;

---
# Marginal Plot

```r
ggscatterhist(pitcher_plant_data, 
              x = "leaf_age.days.", 
              y = "ants",
              color = "Plant.ID.Alpha", 
              size = 3, 
              alpha = 0.6,
  palette = my_pal,
  margin.plot = "boxplot",
  ggtheme = theme_bw()
  )
```

![](Pitcher_Plant_Slides_files/figure-html/unnamed-chunk-7-1.png)&lt;!-- --&gt;

---
# Summary Stats

```r
# Summary statistics
df.summary &lt;- pitcher_plant_data %&gt;%
  group_by(Plant.ID.Alpha) %&gt;%
  summarise(ants_sd = sd(ants, na.rm = TRUE), ants_mean = mean(ants))
df.summary
```

```
## # A tibble: 8 × 3
##   Plant.ID.Alpha ants_sd ants_mean
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;
## 1 A                 8.98      3.22
## 2 B                26.2       6.35
## 3 C                17.0       4.83
## 4 D                20.1       5.21
## 5 E                13.1       3.94
## 6 F                15.4       3.74
## 7 G                 6.00      1.58
## 8 H                18.7       5.15
```
---


```r
ggplot(df.summary, aes(x = Plant.ID.Alpha, 
                       y = ants_mean)) +
  geom_bar(stat = "identity", fill = "lightgray", color = "black")+
  
  geom_errorbar(aes(ymin = ants_mean, ymax = ants_sd), width = 0.2)
```

![](Pitcher_Plant_Slides_files/figure-html/unnamed-chunk-9-1.png)&lt;!-- --&gt;
---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
